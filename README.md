# 스프링 부트 @Async를 이용한 비동기처리 예제 프로젝트

## 테스트 내용 요약
- 2021 M1 맥북에어에서 로컬 마리아 DB를 사용했고, Runtime.getRuntime().availableProcessors() 명령어로 알아낸 가용 프로세서 개수는 8개였습니다.
- 스레드풀 개수 15개, 최대 스레드풀 개수 15개, 큐 길이 1만으로 셋팅한 결과, 3000 번의 DB 입력 요청을 @Async로 처리하는 것에 16~30밀리초가 걸렸습니다.
- 같은 조건에서 @Async없이 작업하면 5400밀리초가 걸립니다.
- 스프링 프로젝트에서 @Async를 사용하기 위해서는 부트 앱의 메인 메서드에서 @EnableAsync를 붙여줘야 합니다.
- @Async가 붙은 메서드의 리턴 타입이 void일 경우, 본 리포지토리의 config 패키지의 내용을 참고하여 커스텀 예외 핸들러를 구현해야 합니다. 본 리포지토리에서 테스트 해본 결과 예외를 잘 잡아냈습니다.
- @Async 메서드의 예외처리에 대한 자세한 내용은 [Baeldung의 관련 포스팅](https://www.baeldung.com/spring-async)을 참고하시면 됩니다.

## 중요한 주의사항!!
- @Async 는 컨트롤러 클래스의 메서드가 아니라 서비스 클래스 내의 메서드에 붙여줘야 효과를 제대로 볼 수 있습니다.
- 동일한 조건에서 컨트롤러 측 메서드에 @Async를 붙여주자 실행시간이 961 밀리초로 증가하면서 사실상 @Async의 효과를 누리지 못한 것을 확인할 수 있습니다.
- 좌측 하단에서 수치를 확인할 수 있습니다.
![82AC91D1-E546-4BC8-939B-E393966D9FC7](https://user-images.githubusercontent.com/99060708/213896497-5b419a30-dd88-4a14-81e1-cc6f774d2d47.jpeg)

## 테스트 결과 이미지
- 비동기 테스트 이미지(2023/1/21에 실시 - 좌측 하단에서 시간 확인 가능)
![0664D098-C1F1-4A35-B69C-5A6A79206884](https://user-images.githubusercontent.com/99060708/213863185-921a43c0-4d0a-4bd7-8c84-793866b53674.jpeg)

- 동기 테스트 이미지(2023/1/21에 실시 - 좌측 하단에서 시간 확인 가능)
![23E6BE8E-DA15-4CB3-8040-D7962A688B21](https://user-images.githubusercontent.com/99060708/213863129-e1960bd0-28e2-49b1-9d67-0d9990974a51.jpeg)
